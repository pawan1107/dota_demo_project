(this.webpackJsonpdota_demo_project=this.webpackJsonpdota_demo_project||[]).push([[0],{213:function(e,t,n){},219:function(e,t,n){},221:function(e,t,n){},222:function(e,t,n){},355:function(e,t,n){},356:function(e,t,n){"use strict";n.r(t);var a,r,c,s,i,o,m,h,d,l=n(0),u=n.n(l),j=n(69),b=n.n(j),g=(n(213),n(374)),p=n(30),y=n(380),O="Fetch_Constant",f=n(39),v=n(375),x=Object(v.a)(a||(a=Object(f.a)(["\n    fragment Hero on HeroType {\n        id\n        name\n        language {\n        displayName\n        __typename\n        }\n        __typename\n    }\n"]))),_=Object(v.a)(r||(r=Object(f.a)(["\n    fragment Item on ItemType {\n        id\n        name\n        language {\n        displayName\n        __typename\n        }\n        __typename\n    }\n"]))),I=Object(v.a)(c||(c=Object(f.a)(["\n    fragment HeroDryad on HeroDryadType {\n        vs {\n        ...HeroStatsHeroDryad\n        __typename\n        }\n        __typename\n    }\n"]))),N=Object(v.a)(s||(s=Object(f.a)(["\n    fragment HeroStatsHeroDryad on HeroStatsHeroDryadType {\n        heroId1\n        heroId2\n        synergy\n        __typename\n    }\n"]))),w=Object(v.a)(i||(i=Object(f.a)(["\n    fragment HeroDayFragment on HeroWinDayType {\n        timestamp: day\n        matchCount\n        winCount\n        __typename\n    }\n"]))),H=Object(v.a)(o||(o=Object(f.a)(["\n    ","\n    ","\n    query Constants($languageEnum: Language) {\n        constants {\n        heroes(language: $languageEnum) {\n            ...Hero\n            __typename\n        }\n        items(language: $languageEnum) {\n            ...Item\n            __typename\n        }\n        __typename\n        }\n    }\n"])),x,_),k=Object(v.a)(m||(m=Object(f.a)(["\n    ","\n    ","\n    query GetHeroMatchup($heroId: Short!, $bracketBasicIds: [RankBracketHeroTimeDetail]) {\n        heroStats {\n          heroVsHeroMatchup(heroId: $heroId, bracketBasicIds: $bracketBasicIds) {\n            advantage {\n              ...HeroDryad\n              __typename\n            }\n            disadvantage {\n              ...HeroDryad\n              __typename\n            }\n            __typename\n          }\n          __typename\n        }\n    }\n"])),I,N),S=Object(v.a)(h||(h=Object(f.a)(["\n    ","\n    query GetGraphsTime($heroIds: [Short!]!, $take: Int) {\n      heroStats {\n        hero: winDay(take: $take, heroIds: $heroIds) {\n          ...HeroDayFragment\n          __typename\n        }\n        __typename\n      }\n    }\n"])),w),C=Object(v.a)(d||(d=Object(f.a)(["\n  query GetFullHeroPurchasePattern($matchLimit: Int = 0, $heroId: Short!) {\n    heroStats {\n      itemFullPurchase(matchLimit: $matchLimit, heroId: $heroId) {\n        heroId\n        week\n        events {\n          itemId\n          matchCount: count\n          wins: winsAverage\n          __typename\n        }\n        matchCount: count\n        __typename\n      }\n      __typename\n    }\n  }    \n"]))),F=(p.c,n(6));var D=function(){var e=Object(y.a)(H),t=(e.error,e.loading,e.data),n=Object(p.b)();return Object(l.useEffect)((function(){t&&n({type:O,payload:t.constants})}),[t]),Object(F.jsx)(F.Fragment,{children:" "})},M=(n(219),function(e){return e.constant.currentHero}),$=function(e){return e.constant.heroes},R=function(e){return e.constant.items},P="https://cdn.stratz.com/images/dota2/heroes/";function T(e){return e.replace("npc_dota_hero_","")}var A=n(29),E=function e(t,n,a,r){Object(A.a)(this,e),this.name=void 0,this.iconUrl=void 0,this.pickRate=void 0,this.winRate=void 0,this.name=t,this.iconUrl=n,this.pickRate=a,this.winRate=r},B=n(201);n(220),n(221);function L(){var e=[],t=Object(p.c)(R),n=Object(p.c)(M),a=Object(y.a)(C,{variables:{heroId:n.id}}),r=(a.error,a.loading,a.data);if(r){var c=r.heroStats.itemFullPurchase,s=c.events.filter((function(e,t,n){return t===n.findIndex((function(t){return t.itemId===e.itemId}))}));e=s.map((function(e){return function(e,n){var a,r=t.find((function(t){return t.id===e.itemId}));return r?new E(r.language.displayName,(a=r.name,"https://cdn.stratz.com/images/dota2/items/".concat(function(e){return e.replace("item_","")}(a),".png")),Number((e.matchCount/n*100).toFixed(1)),Number((100*e.wins).toFixed(1))):null}(e,c.matchCount)}))}return r&&Object(F.jsxs)("div",{className:"purchaseItem-container",children:[Object(F.jsx)("h2",{className:"synergy-header",children:"Item Purchase Details"}),Object(F.jsx)(B.a,{data:e,columns:[{Header:"Item",accessor:"imageUrl",className:"item-cell",sortable:!1,Cell:function(e){return Object(F.jsxs)("div",{className:"item-name-cell",children:[Object(F.jsx)("img",{className:"item-icon",src:e.original.iconUrl,width:60}),Object(F.jsx)("span",{className:"item-name",children:e.original.name})]})}},{Header:"Pick Rate",className:"pick-rate-cell",accessor:"pickRate",Cell:function(e){return e.original.pickRate+" %"}},{Header:"Win Rate",className:"win-rate-cell",accessor:"winRate",Cell:function(e){return e.original.winRate+" %"}}],defaultSorted:[{id:"pickRate",desc:!0}],defaultPageSize:e.length,showPaginationBottom:!1,className:"-striped -highlight react-table"})]})||Object(F.jsx)(F.Fragment,{})}var q=n(57);n(222);var z=function(){var e=[],t=[],n=Object(p.c)(M),a=Object(p.c)($),r=Object(y.a)(k,{variables:{heroId:n.id}}),c=(r.error,r.loading,r.data);if(c){var s=c;e=(e=s&&s.heroStats.heroVsHeroMatchup.advantage[0].vs.slice(0,3)).map((function(e){return Object(q.a)(Object(q.a)({},e),{},{hero2:a.find((function(t){return t.id===e.heroId2}))})})),t=(t=s&&s.heroStats.heroVsHeroMatchup.disadvantage[0].vs.slice(0,3)).map((function(e){return Object(q.a)(Object(q.a)({},e),{},{hero2:a.find((function(t){return t.id===e.heroId2}))})}))}var i=function(e,t){return Object(F.jsxs)("div",{className:"synergy-cell",children:[Object(F.jsx)("img",{className:"hero-icon",src:(n=e.hero2.name,P.concat(T(n),"_icon.png"))}),Object(F.jsxs)("span",{className:"synergy-value",children:[t?"+ ":"",e.synergy.toFixed(1)]})]},e.heroId2.toString());var n};return c&&Object(F.jsxs)("div",{className:"synergy-container",children:[Object(F.jsx)("h2",{className:"synergy-header",children:"Synergy"}),Object(F.jsxs)("div",{className:"synergy-body",children:[Object(F.jsxs)("div",{className:"best-against synergy-column",children:[Object(F.jsx)("h3",{className:"column-header",children:"Best Against"}),e.map((function(e){return i(e,!0)}))]}),Object(F.jsxs)("div",{className:"worst-against synergy-column",children:[Object(F.jsx)("h3",{className:"column-header",children:"Worst Against"}),t.map((function(e){return i(e,!1)}))]})]})]})||Object(F.jsx)(F.Fragment,{})},G=n(364),U=n(202),W=n(368),V=n(195),J=n(196),K=n(100),Q=n(182),X=n.n(Q),Y=function e(t,n,a){Object(A.a)(this,e),this.winrate=void 0,this.timeStamp=void 0,this.matchCount=void 0,this.date=void 0,this.xAxis=void 0,this.yAxis=void 0,this.winrate=t,this.timeStamp=n,this.matchCount=a,this.date=new Date(1e3*n),this.xAxis=X()(this.date).format("MMM Do"),this.yAxis=t+" %"};var Z=function(){var e=Object(F.jsx)(F.Fragment,{}),t=Object(p.c)(M),n=Object(y.a)(S,{variables:{heroIds:[t.id],take:10}}),a=(n.error,n.loading,n.data);if(a){console.log(a);var r=a.heroStats.hero.map((function(e){return new Y(Number((e.winCount/e.matchCount*100).toFixed(1)),e.timestamp,e.matchCount)})),c=Math.min.apply(Math,r.map((function(e){return e.winrate}))),s=Math.max.apply(Math,r.map((function(e){return e.winrate}))),i=c-5<0?0:Math.floor(c-5),o=s+5>100?100:Math.floor(s+5);e=Object(F.jsxs)(G.a,{width:600,height:300,data:r,margin:{top:5,right:20,bottom:5,left:0},children:[Object(F.jsx)(U.a,{type:"monotone",dataKey:"winrate",stroke:"#8884d8"}),Object(F.jsx)(W.a,{stroke:"#ccc",strokeDasharray:"5 5"}),Object(F.jsx)(V.a,{dataKey:"xAxis"}),Object(F.jsx)(J.a,{tickCount:10,domain:[i,o]}),Object(F.jsx)(K.a,{})]})}return a&&Object(F.jsxs)("div",{className:"synergy-container",children:[Object(F.jsx)("h2",{className:"synergy-header",children:"Win Rate Over Time"}),Object(F.jsx)("div",{className:"synergy-body",children:e})]})||Object(F.jsx)(F.Fragment,{})};n(355);var ee=function(){var e,t=Object(p.c)(M);return t?Object(F.jsxs)("div",{className:"hero-container",children:[Object(F.jsxs)("div",{className:"hero-section",children:[Object(F.jsx)("img",{className:"hero-image",src:(e=t.name,P.concat(T(e),"_horz.png"))}),Object(F.jsx)("h1",{className:"hero-name",children:t.language.displayName})]}),Object(F.jsxs)("div",{className:"hero-body",children:[Object(F.jsx)(z,{}),Object(F.jsx)(Z,{}),Object(F.jsx)(L,{})]})]}):Object(F.jsx)(F.Fragment,{})},te=n(197),ne=n(369),ae=n(376),re=n(377),ce=n(378),se=Object(te.a)((function(e){var t=e.graphQLErrors,n=e.networkError;t?t.map((function(e){var t=e.message;console.log("GraphQL Error - ",t)})):n&&console.log("Network Error - ",n.message)})),ie=Object(ne.a)([se,new ae.a({uri:"https://api.stratz.com/graphql"})]),oe=new re.a({cache:new ce.a,link:ie}),me=n(81),he=n(199),de={heroes:[],items:[],currentHero:null},le=Object(me.b)({constant:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:de,t=arguments.length>1?arguments[1]:void 0;if(t.type===O){var n=t.payload,a=n.heroes[Math.floor(Math.random()*n.heroes.length)];return Object(q.a)(Object(q.a)({},e),{},{heroes:n.heroes,items:n.items,currentHero:a})}return e}}),ue=[he.a],je=Object(me.d)(le,{},Object(me.c)(me.a.apply(void 0,ue)));var be=function(){return Object(F.jsx)(p.a,{store:je,children:Object(F.jsx)(g.a,{client:oe,children:Object(F.jsxs)("div",{className:"App",children:[Object(F.jsx)(D,{}),Object(F.jsx)(ee,{})]})})})},ge=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,382)).then((function(t){var n=t.getCLS,a=t.getFID,r=t.getFCP,c=t.getLCP,s=t.getTTFB;n(e),a(e),r(e),c(e),s(e)}))};b.a.render(Object(F.jsx)(u.a.StrictMode,{children:Object(F.jsx)(be,{})}),document.getElementById("root")),ge()}},[[356,1,2]]]);
//# sourceMappingURL=main.a87fea56.chunk.js.map