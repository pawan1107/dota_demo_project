(this.webpackJsonpdota_demo_project=this.webpackJsonpdota_demo_project||[]).push([[0],{212:function(e,t,n){},217:function(e,t,n){},218:function(e,t,n){},220:function(e,t,n){},222:function(e,t,n){},223:function(e,t,n){},356:function(e,t,n){},357:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),c=n(68),i=n.n(c),o=(n(212),n(375)),s=n(31),h=(n(217),"https://cdn.stratz.com/images/dota2/heroes/"),m=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function l(e){return e.replace("npc_dota_hero_","")}n(218);var u,d,j,g,b,p,y,O=n(381),v="Fetch_Constant",f="HERO_DATA",x=n(48),_=n(376),w=Object(_.a)(u||(u=Object(x.a)(["\n    fragment Hero on HeroType {\n        id\n        name\n        language {\n        displayName\n        __typename\n        }\n        __typename\n    }\n"]))),N=Object(_.a)(d||(d=Object(x.a)(["\n    fragment Item on ItemType {\n        id\n        name\n        language {\n        displayName\n        __typename\n        }\n        __typename\n    }\n"]))),D=Object(_.a)(j||(j=Object(x.a)(["\n    fragment HeroDryad on HeroDryadType {\n        vs {\n        ...HeroStatsHeroDryad\n        __typename\n        }\n        __typename\n    }\n"]))),H=Object(_.a)(g||(g=Object(x.a)(["\n    fragment HeroStatsHeroDryad on HeroStatsHeroDryadType {\n        heroId1\n        heroId2\n        synergy\n        __typename\n    }\n"]))),I=Object(_.a)(b||(b=Object(x.a)(["\n    fragment HeroDayFragment on HeroWinDayType {\n        timestamp: day\n        matchCount\n        winCount\n        __typename\n    }\n"]))),C=Object(_.a)(p||(p=Object(x.a)(["\n    ","\n    ","\n    query Constants($languageEnum: Language) {\n        constants {\n        heroes(language: $languageEnum) {\n            ...Hero\n            __typename\n        }\n        items(language: $languageEnum) {\n            ...Item\n            __typename\n        }\n        __typename\n        }\n    }\n"])),w,N),F=Object(_.a)(y||(y=Object(x.a)(["\n    ","\n    ","\n    ","\n    query GetHeroMatchup($heroId: Short!) {\n      heroStats {\n        heroVsHeroMatchup(heroId: $heroId) {\n          advantage {\n            ...HeroDryad\n            __typename\n          }\n          disadvantage {\n            ...HeroDryad\n            __typename\n          }\n          __typename\n        }\n        hero: winDay(heroIds: [$heroId], take: 7) {\n          ...HeroDayFragment\n          __typename\n        }\n        itemFullPurchase(heroId: $heroId, matchLimit: 0) {\n          heroId\n          week\n          events {\n            itemId\n            matchCount: count\n            wins: winsAverage\n            __typename\n          }\n          matchCount: count\n          __typename\n        }\n        __typename\n      }\n    } \n"])),D,I,H),M=function(){return Object(s.c)()},k=n(29),S=function e(t,n,a,r){Object(k.a)(this,e),this.name=void 0,this.iconUrl=void 0,this.pickRate=void 0,this.winRate=void 0,this.name=t,this.iconUrl=n,this.pickRate=a,this.winRate=r},A=n(200),L=(n(219),n(220),n(6));var R=Object(s.b)((function(e){var t;return{itemList:e.constantData.items,itemData:null===(t=e.heroData)||void 0===t?void 0:t.itemData}}),null)((function(e){var t=[];if(e.itemData){var n=e.itemData;t=n.events.filter((function(e,t,n){return t===n.findIndex((function(t){return t.itemId===e.itemId}))})).map((function(t){return function(t,n){var a,r=e.itemList.find((function(e){return e.id===t.itemId}));return r?new S(r.language.displayName,(a=r.name,"https://cdn.stratz.com/images/dota2/items/".concat(function(e){return e.replace("item_","")}(a),".png")),Number((t.matchCount/n*100).toFixed(1)),Number((100*t.wins).toFixed(1))):null}(t,n.matchCount)}))}return e.itemData&&Object(L.jsxs)("div",{className:"purchaseItem-container",children:[Object(L.jsx)("h2",{className:"synergy-header",children:"Item Purchase Details"}),Object(L.jsx)(A.a,{data:t,columns:[{Header:"Item",accessor:"imageUrl",className:"item-cell",sortable:!1,Cell:function(e){return Object(L.jsxs)("div",{className:"item-name-cell",children:[Object(L.jsx)("img",{className:"item-icon",alt:"img-"+e.original.name,src:e.original.iconUrl,width:60}),Object(L.jsx)("span",{className:"item-name",children:e.original.name})]})},width:240},{Header:"Pick Rate",className:"pick-rate-cell",accessor:"pickRate",Cell:function(e){return e.original.pickRate+" %"}},{Header:"Win Rate",className:"win-rate-cell",accessor:"winRate",Cell:function(e){return e.original.winRate+" %"}}],defaultSorted:[{id:"pickRate",desc:!0}],defaultPageSize:t.length,showPaginationBottom:!1,className:"-striped -highlight react-table"})]})||Object(L.jsx)(L.Fragment,{})})),E=n(57);n(222);var T=Object(s.b)((function(e){var t;return{heroList:e.constantData.heroes,heroVsHeroMatchup:null===(t=e.heroData)||void 0===t?void 0:t.matchupData}}),null)((function(e){var t=[],n=[];if(e.heroVsHeroMatchup){var a=e.heroVsHeroMatchup.advantage[0];if(a)t=a.vs.slice(0,3).map((function(t){return Object(E.a)(Object(E.a)({},t),{},{hero2:e.heroList.find((function(e){return e.id===t.heroId2}))})}));var r=e.heroVsHeroMatchup.disadvantage[0];if(r)n=r.vs.slice(0,3).map((function(t){return Object(E.a)(Object(E.a)({},t),{},{hero2:e.heroList.find((function(e){return e.id===t.heroId2}))})}))}var c=function(e,t){return Object(L.jsxs)("div",{className:"synergy-cell",children:[Object(L.jsx)("img",{className:"hero-icon",alt:"synergy.hero2.name",src:(n=e.hero2.name,h.concat(l(n),"_icon.png"))}),Object(L.jsxs)("span",{className:"synergy-value",children:[t?"+ ":"",e.synergy.toFixed(1)]})]},e.heroId2.toString());var n};return e.heroVsHeroMatchup&&Object(L.jsxs)("div",{className:"synergy-container",children:[Object(L.jsx)("h2",{className:"synergy-header",children:"Synergy"}),Object(L.jsxs)("div",{className:"synergy-body",children:[t.length&&Object(L.jsxs)("div",{className:"best-against synergy-column",children:[Object(L.jsx)("h3",{className:"column-header",children:"Best Against"}),t.map((function(e){return c(e,!0)}))]}),n.length&&Object(L.jsxs)("div",{className:"worst-against synergy-column",children:[Object(L.jsx)("h3",{className:"column-header",children:"Worst Against"}),n.map((function(e){return c(e,!1)}))]})]})]})||Object(L.jsx)(L.Fragment,{})})),P=n(365),V=n(201),$=n(369),z=n(193),J=n(194),B=n(100),U=function e(t,n,a){Object(k.a)(this,e),this.winrate=void 0,this.timeStamp=void 0,this.matchCount=void 0,this.date=void 0,this.xAxis=void 0,this.yAxis=void 0,this.winrate=t,this.timeStamp=n,this.matchCount=a,this.date=new Date(1e3*n),this.xAxis=m[this.date.getMonth()]+" "+this.date.getDate()+"th",this.yAxis=t+" %"};n(223);var W=Object(s.b)((function(e){var t;return{winData:null===(t=e.heroData)||void 0===t?void 0:t.winData}}),null)((function(e){var t=Object(L.jsx)(L.Fragment,{});if(e.winData){var n=e.winData.map((function(e){return new U(Number((e.winCount/e.matchCount*100).toFixed(1)),e.timestamp,e.matchCount)})),a=Math.min.apply(Math,n.map((function(e){return e.winrate}))),r=Math.max.apply(Math,n.map((function(e){return e.winrate}))),c=a-5<0?0:Math.floor(a-5),i=r+5>100?100:Math.floor(r+5);t=Object(L.jsxs)(P.a,{className:"hero-chart",width:550,height:300,data:n,margin:{top:5,right:60,bottom:5,left:0},children:[Object(L.jsx)(V.a,{type:"monotone",dataKey:"winrate",stroke:"#8884d8"}),Object(L.jsx)($.a,{stroke:"#ccc",strokeDasharray:"5 5"}),Object(L.jsx)(z.a,{className:"x-axis",dataKey:"xAxis"}),Object(L.jsx)(J.a,{className:"y-axis",tickCount:10,domain:[c,i]}),Object(L.jsx)(B.a,{})]})}return e.winData&&Object(L.jsxs)("div",{className:"winrate-container",children:[Object(L.jsx)("h2",{className:"winrate-header",children:"Win Rate Over Time"}),Object(L.jsx)("div",{className:"winrate-body",children:t})]})||Object(L.jsx)(L.Fragment,{})}));n(356);var q=Object(s.b)((function(e){return{currentHero:e.constantData.currentHero}}),null)((function(e){var t=Object(O.a)(F,{variables:{heroId:e.currentHero.id}}),n=t.error,r=t.loading,c=t.data,i=M();return Object(a.useEffect)((function(){c&&i({type:f,payload:c.heroStats})}),[c]),r?Object(L.jsx)("div",{className:"upper-margin",children:"Loading ..."}):n?Object(L.jsx)("div",{className:"upper-margin",children:"Something went wrong. Please Try again"}):c&&Object(L.jsxs)("div",{className:"hero-body",children:[Object(L.jsx)(T,{}),Object(L.jsx)(W,{}),Object(L.jsx)(R,{})]})||Object(L.jsx)(L.Fragment,{})}));var G=Object(s.b)((function(e){return{currentHero:e.constantData.currentHero}}),null)((function(e){var t,n=Object(O.a)(C),r=n.error,c=n.loading,i=n.data,o=M();return Object(a.useEffect)((function(){i&&o({type:v,payload:i.constants})}),[i]),c?Object(L.jsx)("div",{children:"Loading ..."}):r?Object(L.jsx)("div",{children:"Something went wrong. Please Try again"}):e.currentHero?Object(L.jsxs)("div",{className:"hero-container",children:[Object(L.jsxs)("div",{className:"hero-section",children:[Object(L.jsx)("img",{className:"hero-image",alt:e.currentHero.language.displayName,src:(t=e.currentHero.name,h.concat(l(t),"_horz.png"))}),Object(L.jsx)("h1",{className:"hero-name",children:e.currentHero.language.displayName})]}),Object(L.jsx)(q,{})]}):Object(L.jsx)(L.Fragment,{})})),K=n(196),Q=n(378),X=n(379),Y=n(374),Z=n(377),ee=Object(K.a)((function(e){var t=e.graphQLErrors,n=e.networkError;t?t.map((function(e){var t=e.message;console.error("GraphQL Error - ",t)})):n&&console.error("Network Error - ",n.message)})),te=new Q.a({cache:new X.a,link:Object(Y.a)([ee,new Z.a({uri:"https://api.stratz.com/graphql"})])}),ne=n(80),ae=n(198),re={heroes:[],items:[],currentHero:null};var ce=Object(ne.b)({constantData:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:re,t=arguments.length>1?arguments[1]:void 0;if(t.type===v){var n=t.payload,a=n.heroes[Math.floor(Math.random()*n.heroes.length)];return Object(E.a)(Object(E.a)({},e),{},{heroes:n.heroes,items:n.items,currentHero:a})}return e},heroData:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;if(t.type===f){var n=t.payload;return{matchupData:n.heroVsHeroMatchup,winData:n.hero,itemData:n.itemFullPurchase}}return e}}),ie=[ae.a],oe=Object(ne.d)(ce,{},Object(ne.c)(ne.a.apply(void 0,ie)));var se=function(){return Object(L.jsx)(s.a,{store:oe,children:Object(L.jsx)(o.a,{client:te,children:Object(L.jsx)("div",{className:"App",children:Object(L.jsx)(G,{})})})})},he=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,383)).then((function(t){var n=t.getCLS,a=t.getFID,r=t.getFCP,c=t.getLCP,i=t.getTTFB;n(e),a(e),r(e),c(e),i(e)}))};i.a.render(Object(L.jsx)(r.a.StrictMode,{children:Object(L.jsx)(se,{})}),document.getElementById("root")),he()}},[[357,1,2]]]);
//# sourceMappingURL=main.9a8e826c.chunk.js.map